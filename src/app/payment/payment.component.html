<!-- <div class="transfer-money-container">
    <h2>Transfer Money To {{ user?.name }}</h2>
    <div class="user-details">
      <p><strong>Name:</strong> {{ user?.name }}</p>
      <p><strong>Mobile:</strong> {{ user?.mobile }}</p>
    </div>
  
    <div class="payment-details">
      <label for="amount">Enter Amount:</label>
      <input
        id="amount"
        type="number"
        [(ngModel)]="amount"
        min="1"
        placeholder="Enter amount to transfer"
      />
      <button (click)="pay()" class="pay-btn">Pay</button>
  
     
      <div *ngIf="showPinInput" class="pin-input-container">
        <label for="pin">Enter PIN:</label>
        <input
          id="pin"
          type="password"
          [(ngModel)]="pin"
          placeholder="Enter your 4-digit PIN"
          maxlength="4"
        />
        <button (click)="pay()" class="pay-btn">Submit</button>
      </div>
  
      
      <div *ngIf="showDoneMessage" class="done-message">
        <p>Payment Successful! ✅</p>
      </div>
    </div>
  </div>

 -->

<!-- 

 <div class="payment-container">
  <h2>Transfer Money to {{ user?.name }}</h2>
  <div class="user-details">
    <p><strong>Name:</strong> {{ user?.name }}</p>
    <p><strong>Mobile:</strong> {{ user?.mobile }}</p>
  </div>

  <div class="payment-details">
    <label for="amount">Enter Amount:</label>
    <input
      id="amount"
      type="number"
      [(ngModel)]="amount"
      min="1"
      placeholder="Enter amount to transfer"
    />
    <button (click)="pay()" class="pay-btn">Pay</button>

    <div *ngIf="showPinInput" class="pin-input-container">
      <label for="pin">Enter PIN:</label>
      <input
        id="pin"
        type="password"
        [(ngModel)]="pin"
        placeholder="Enter your 4-digit PIN"
        maxlength="4"
      />
      <button (click)="pay()" class="pay-btn">Submit</button>
    </div>

    <div *ngIf="showDoneMessage" class="done-message">
      <p>Payment Successful! ✅</p>
    </div>
  </div>
</div> -->


<!-- 

<div class="payment-container">
  <h2>Transfer Money to {{ user.name }}</h2>
  <p>Mobile: {{ user.mobile }}</p>

  <label for="amount">Amount:</label>
  <input
    type="number"
    id="amount"
    [(ngModel)]="amount"
    placeholder="Enter amount"
  />

  <div *ngIf="showPinInput">
    <label for="pin">Enter PIN:</label>
    <input type="password" id="pin" [(ngModel)]="pin" placeholder="Enter PIN" />
  </div>

  <button (click)="showPinInput ? pay() : requestPin()">
    {{ showPinInput ? 'Pay' : 'Request PIN' }}
  </button>

  <p *ngIf="message">{{ message }}</p>
  <div *ngIf="isLoading">Processing...</div>
</div> -->



<div class="payment-container">
  <h2>Transfer Money To {{ user?.name }}</h2>
  <div class="user-details">
    <p><strong>Name:</strong> {{ user?.name }}</p>
    <p><strong>Mobile:</strong> {{ user?.mobile }}</p>
  </div>

  <div class="payment-details">
    <label for="amount">Enter Amount:</label>
    <input
      id="amount"
      type="number"
      [(ngModel)]="amount"
      min="1"
      placeholder="Enter amount to transfer"
    />

    <div *ngIf="showPinInput" class="pin-input-container">
      <label for="pin">Enter PIN:</label>
      <input
        id="pin"
        type="password"
        [(ngModel)]="pin"
        placeholder="Enter your 4-digit PIN"
        maxlength="4"
      />
      <button (click)="pay()" class="pay-btn">Submit</button>
    </div>

    <button
      *ngIf="!showPinInput"
      (click)="requestPin()"
      class="pay-btn"
    >
      Request PIN
    </button>
  </div>

  <p *ngIf="message" class="done-message">{{ message }}</p>
  <div *ngIf="isLoading">Processing...</div>
</div>
